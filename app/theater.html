<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Causeway | Theater</title>
	<link rel="stylesheet" href="styles/theater.css">
	<link href='http://fonts.googleapis.com/css?family=Vollkorn' rel='stylesheet' type='text/css'>
	<script src="/socket.io/socket.io.js"></script>
</head>
<body>

<div id="causeway-text"></div>

	<script>

 		var socket = io.connect('http://mbp.local:8000');
 		socket.emit('addme', 'admin');
		
		socket.on('chat', function(data) {
			console.log(data);
		});

		socket.on('itemback', function(data){
			console.log("itemback: " + data);
			var elements = document.getElementsByClassName(data.phrase);
			for(var i = elements.length - 1; i >= 0; --i) {
				elements[i].className += " clicked";
				// elements[i].style.visibility = visible;
				elements[i].style.color = data.color;
				// elements[i].style.backgroundColor = rcolor;
			}
		});

		window.onload = function() {
			var xhr= new XMLHttpRequest();
			xhr.open('GET', 'data/causeway.html', true);
			xhr.onreadystatechange= function() {
			    if (this.readyState!==4) return;
			    if (this.status!==200) return; // or whatever error handling you want
			    document.getElementById("causeway-text").innerHTML= this.responseText;
			};
			xhr.send();
		};

	</script>
</body>
</html>